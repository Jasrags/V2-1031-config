[gcode_macro _CG28]
description: Helper: conditional homing
gcode:
  {% if printer.toolhead.homed_axes != "xyz" %}
    G90
    G28
  {% endif %}